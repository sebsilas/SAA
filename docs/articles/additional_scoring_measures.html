<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Scoring singing data with additional scoring measures • SAA</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Scoring singing data with additional scoring measures">
<meta property="og:description" content="SAA">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SAA</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/SAA_with_other_tests.html">Running an experiment with the SAA alongside other ability tests</a>
    </li>
    <li>
      <a href="../articles/additional_scoring_measures.html">Scoring singing data with additional scoring measures</a>
    </li>
    <li>
      <a href="../articles/online_testing_aws.html">Online testing (via Amazon Web Services)</a>
    </li>
    <li>
      <a href="../articles/sing_happy_birthday_page.html">Creating custom pages to collect singing data.</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/sebsilas/SAA/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Scoring singing data with additional scoring
measures</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/sebsilas/SAA/blob/HEAD/vignettes/additional_scoring_measures.Rmd" class="external-link"><code>vignettes/additional_scoring_measures.Rmd</code></a></small>
      <div class="hidden name"><code>additional_scoring_measures.Rmd</code></div>

    </div>

    
    
<p>To add your own measures for scoring the melodic singing data,
outputted by the <a href="https://code.soundsoftware.ac.uk/projects/pyin" class="external-link"><code>pYIN</code></a>
algorithm, you can use the <code>additional_scoring_measures</code>
argument to the <code>SAA</code> or <code>SAA_standalone</code>
functions.</p>
<p>The argument should be a function with the following arguments:
<code>onset</code>, <code>dur</code>, <code>freq</code>,
<code>note</code>, <code>stimuli</code>, <code>stimuli_durations</code>
or a list of functions, each with the same arguments.</p>
<p>Here are some examples.</p>
<div class="section level3">
<h3 id="example-1">Example 1<a class="anchor" aria-label="anchor" href="#example-1"></a>
</h3>
<p>Here is the inclusion of a trivial scoring measure which counts the
number of sung notes above <code>C4</code> (MIDI pitch 60).</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">check_no_notes_above_c4</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">onset</span>, <span class="va">dur</span>, <span class="va">freq</span>, <span class="va">note</span>, <span class="va">stimuli</span>, <span class="va">stimuli_durations</span><span class="op">)</span> <span class="op">{</span>
  <span class="co"># C4 is MIDI note number 60</span>
  <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">note</span> <span class="op">&gt;</span> <span class="fl">60</span><span class="op">)</span>

<span class="op">}</span>


<span class="fu">SAA</span><span class="fu">::</span><span class="fu"><a href="../reference/SAA_standalone.html">SAA_standalone</a></span><span class="op">(</span>skip_setup <span class="op">=</span> <span class="cn">TRUE</span>,
                    app_name <span class="op">=</span> <span class="st">'additional_measures'</span>,
                    num_items <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>long_tones <span class="op">=</span> <span class="fl">2L</span>, arrhythmic <span class="op">=</span> <span class="fl">2L</span>, rhythmic <span class="op">=</span> <span class="fl">2L</span><span class="op">)</span>,
                     examples <span class="op">=</span> <span class="fl">0</span>,
                     max_goes <span class="op">=</span> <span class="fl">1L</span>,
                     additional_scoring_measures <span class="op">=</span> <span class="va">check_no_notes_above_c4</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="example-2">Example 2<a class="anchor" aria-label="anchor" href="#example-2"></a>
</h3>
<p>Here is another trivial scoring function which takes the log of some
of the user’s melodic production data, the stimuli durations and
multiplies the frequencies by 2. There is no reason why this would be
useful, but is a way of demonstrating that you can transform the melodic
production variables, and also store them in a dataframe.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/sebsilas/SAA" class="external-link">SAA</a></span><span class="op">)</span>


<span class="va">log_scores</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">onset</span>, <span class="va">dur</span>, <span class="va">freq</span>, <span class="va">note</span>, <span class="va">stimuli</span>, <span class="va">stimuli_durations</span><span class="op">)</span> <span class="op">{</span>

  <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>log_onset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">onset</span><span class="op">)</span>,
                 log_dur <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">dur</span><span class="op">)</span>,
                 freq_2 <span class="op">=</span> <span class="va">freq</span> <span class="op">*</span> <span class="fl">2</span>,
                 stimuli_durations <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">stimuli_durations</span><span class="op">)</span><span class="op">)</span>

<span class="op">}</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="example-3">Example 3<a class="anchor" aria-label="anchor" href="#example-3"></a>
</h3>
<p>Include the last two functions as a list, for both function results
to appear in the results file:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">SAA</span><span class="fu">::</span><span class="fu"><a href="../reference/SAA_standalone.html">SAA_standalone</a></span><span class="op">(</span>skip_setup <span class="op">=</span> <span class="cn">TRUE</span>,
                    app_name <span class="op">=</span> <span class="st">'additional_measures'</span>,
                    num_items <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>long_tones <span class="op">=</span> <span class="fl">2L</span>, arrhythmic <span class="op">=</span> <span class="fl">2L</span>, rhythmic <span class="op">=</span> <span class="fl">2L</span><span class="op">)</span>,
                    examples <span class="op">=</span> <span class="fl">0</span>,
                    max_goes <span class="op">=</span> <span class="fl">1L</span>,
                    additional_scoring_measures <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">check_no_notes_above_c4</span>, <span class="va">log_scores</span><span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Sebastian Silas.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
